import{u,a as m,r as t,j as e,b as i,A as c}from"./index-BvbRJS_t.js";const b=()=>{const r=u(),{loginSeller:g}=m(),[a,d]=t.useState(""),[n,o]=t.useState(!1),p=async()=>{if(a.length!==10){alert("Please enter a valid 10-digit mobile number");return}try{o(!0);const l=await i.post(`${c}/api/sellers/send-otp`,{phoneNumber:a});if(l.data.otp)try{const s=await i.post(`${c}/api/sellers/verify-otp`,{phoneNumber:a,otp:l.data.otp});s.data.success&&(g(s.data.token),s.data.seller?.status==="approved"?r("/seller/dashboard"):r("/seller/pending-approval"))}catch(s){console.error("Auto-verification error:",s),alert("Login successful! Redirecting..."),r("/seller/pending-approval")}}catch(l){const s=l.response?.data?.message||"Failed to send OTP. Please try again.";alert(`Error: ${s}`)}finally{o(!1)}};return e.jsx("div",{className:"seller-login-container",children:e.jsxs("div",{className:"seller-login-content",children:[e.jsx("div",{className:"seller-login-title-container",children:e.jsx("img",{src:"/logo.png",alt:"UPVC Logo",className:"seller-login-logo"})}),e.jsxs("div",{className:"seller-login-form",children:[e.jsxs("div",{className:"seller-login-input-group",children:[e.jsx("label",{className:"seller-login-label",children:"Mobile Number"}),e.jsxs("div",{className:"seller-login-phone-input",children:[e.jsx("span",{className:"seller-login-country-code",children:"+91"}),e.jsx("input",{type:"tel",className:"seller-login-input seller-login-phone-number",placeholder:"Enter 10-digit mobile number",value:a,onChange:l=>{const s=l.target.value.replace(/\D/g,"").slice(0,10);d(s)},maxLength:10})]})]}),e.jsx("button",{className:"seller-login-button",onClick:p,disabled:n||a.length!==10,children:n?"Logging in...":"Login"})]})]})})};export{b as default};
